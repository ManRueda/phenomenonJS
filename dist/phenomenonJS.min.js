!function(a,b){return"function"==typeof define?define(function(){return b()}):void("object"==typeof module&&module.exports?module.exports=b():a.phenomenonJS=b())}(this,function(){function a(){function a(a){switch(a.length){case 1:return void 0;case 2:return a[1];case 3:return[a[1],a[2]];default:for(var b=new Array(a.length-1),c=1;c<a.length;c++)b[c-1]=a[c];return b}}function b(a,b,c){c instanceof Array?b.apply(a,c):b.call(a,c)}this.defaultMaxListeners=10,this.on=this.addListener=function(a,b){if("function"!=typeof b)throw new TypeError("Listener must be a function");return this._events||(this._events={}),this._events[a]?this._events[a]instanceof Array?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,this},this.emit=this.trigger=function(c){var d,e,f;if(this._events||(this._events={}),e=this._events[c],!e)return!1;if(d=a(arguments),"function"==typeof e)b(this,e,d);else if(e instanceof Array)for(f=0;f<e.length;f++)b(this,e[f],d);return this},this.off=this.removeListener=function(a,b){var c,d,e;if(!this._events||!this._events[a])return this;if(c=this._events[a],e=c.length,d=-1,c===b||"function"==typeof c.listener&&c.listener===b||void 0===b&&void 0!==c)delete this._events[a];else if(c instanceof Array){for(var f=0;e>f;f++)(c[f]===b||c[f].listener&&c[f].listener===b)&&(d=f);if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1)}return this},this.one=this.once=function(a,b){function c(){this.off(a,c),d||(d=!0,b.apply(this,arguments))}if("function"!=typeof b)throw new TypeError("Listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this}}return a});